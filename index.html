
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMK RESPATI - Sistem Absensi Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
        }
        
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .hover-scale {
            transition: transform 0.2s ease-in-out;
        }
        
        .hover-scale:hover {
            transform: scale(1.02);
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .status-hadir { background-color: #10b981; }
        .status-izin { background-color: #f59e0b; }
        .status-sakit { background-color: #ef4444; }
        .status-alpha { background-color: #6b7280; }
        .status-tugas { background-color: #8b5cf6; }
        
        /* Toggle Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #2196F3;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Login Page -->
    <div id="loginPage" class="min-h-screen gradient-bg flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl card-shadow max-w-md w-full p-8 animate-fade-in">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-graduation-cap text-white text-2xl"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800">SMK RESPATI</h1>
                <p class="text-gray-600 text-sm mt-2">Sistem Absensi Digital</p>
                <p class="text-xs text-gray-500 mt-1">NPSN: 20103536</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Role Pengguna</label>
                    <select id="userRole" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="siswa">üë®‚Äçüéì Siswa</option>
                        <option value="guru">üë®‚Äçüè´ Guru</option>
                        <option value="admin">üë®‚Äçüíº Admin</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Username/NIS/NIP</label>
                    <input type="text" id="username" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan username">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" id="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan password">
                </div>
                
                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium">
                    Masuk
                </button>
                
                <div class="flex justify-between text-sm">
                    <button type="button" onclick="showHelp()" class="text-blue-600 hover:underline">
                        <i class="fas fa-question-circle mr-1"></i>Bantuan
                    </button>
                    <button type="button" onclick="showTutorial()" class="text-green-600 hover:underline">
                        <i class="fas fa-play-circle mr-1"></i>Video Tutorial
                    </button>
                </div>
            </form>
            
            <div class="mt-8 text-center text-xs text-gray-500">
                <p>Jl.Inpres, Kel Tengah, Kramat Jati Jakarta Timur</p>
                <p>üìû 0218093086 | üåê smkrespati1.sch.id</p>
            </div>
        </div>
    </div>

    <!-- Student Dashboard -->
    <div id="studentDashboard" class="hidden min-h-screen bg-gray-50">
        <nav class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-3">
                            <i class="fas fa-graduation-cap text-white text-sm"></i>
                        </div>
                        <span class="font-semibold text-gray-800">SMK RESPATI - Dashboard Siswa</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-600">Selamat datang, <span id="studentName">Ahmad Rizki</span></span>
                        <button onclick="logout()" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Absensi Section -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl card-shadow p-6 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-6">Absensi Hari Ini</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button id="absenMasuk" onclick="absenMasuk()" class="bg-green-500 hover:bg-green-600 text-white p-6 rounded-xl transition duration-200 hover-scale">
                                <i class="fas fa-sign-in-alt text-2xl mb-2"></i>
                                <div class="font-semibold">Absen Masuk</div>
                                <div class="text-sm opacity-90" id="jamMasuk">Belum absen</div>
                            </button>
                            <button id="absenPulang" onclick="absenPulang()" class="bg-blue-500 hover:bg-blue-600 text-white p-6 rounded-xl transition duration-200 hover-scale" disabled>
                                <i class="fas fa-sign-out-alt text-2xl mb-2"></i>
                                <div class="font-semibold">Absen Pulang</div>
                                <div class="text-sm opacity-90" id="jamPulang">Belum absen</div>
                            </button>
                        </div>
                    </div>

                    <!-- Status Kehadiran -->
                    <div class="bg-white rounded-xl card-shadow p-6 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Status Kehadiran Bulan Ini</h2>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="text-center p-4 bg-green-50 rounded-lg">
                                <div class="text-2xl font-bold text-green-600">18</div>
                                <div class="text-sm text-gray-600">Hadir</div>
                            </div>
                            <div class="text-center p-4 bg-yellow-50 rounded-lg">
                                <div class="text-2xl font-bold text-yellow-600">2</div>
                                <div class="text-sm text-gray-600">Izin</div>
                            </div>
                            <div class="text-center p-4 bg-red-50 rounded-lg">
                                <div class="text-2xl font-bold text-red-600">1</div>
                                <div class="text-sm text-gray-600">Sakit</div>
                            </div>
                            <div class="text-center p-4 bg-gray-50 rounded-lg">
                                <div class="text-2xl font-bold text-gray-600">0</div>
                                <div class="text-sm text-gray-600">Alpha</div>
                            </div>
                        </div>
                    </div>

                    <!-- Manajemen Tugas -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Manajemen Tugas</h2>
                        <div class="space-y-4">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-medium text-gray-800">Tugas Matematika - Integral</h3>
                                    <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded">Deadline: 2 hari</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Kerjakan soal integral pada halaman 45-50</p>
                                <div class="flex space-x-2 mb-3">
                                    <input type="file" id="fileUpload" class="hidden" accept=".pdf,.doc,.docx,.jpg,.png" onchange="handleFileUpload(event)">
                                    <button onclick="document.getElementById('fileUpload').click()" class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600">
                                        <i class="fas fa-upload mr-1"></i>Upload Jawaban
                                    </button>
                                    <button onclick="downloadFile('soal-integral.pdf')" class="bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600">
                                        <i class="fas fa-download mr-1"></i>Download Soal
                                    </button>
                                    <button onclick="previewFile('soal-integral.pdf')" class="bg-yellow-500 text-white px-3 py-1 rounded text-sm hover:bg-yellow-600">
                                        <i class="fas fa-eye mr-1"></i>Preview
                                    </button>
                                </div>
                                <div id="uploadedFiles" class="text-xs text-gray-500">
                                    <i class="fas fa-paperclip mr-1"></i>File: soal-integral.pdf (2.3 MB)
                                </div>
                            </div>
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-start mb-2">
                                    <h3 class="font-medium text-gray-800">Essay Bahasa Indonesia</h3>
                                    <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Selesai</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-3">Tugas essay tentang kemerdekaan Indonesia</p>
                                <div class="text-sm text-green-600">
                                    <i class="fas fa-check-circle mr-1"></i>Nilai: 85/100
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Kalender -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Kalender</h3>
                        <div class="text-center mb-4">
                            <div class="text-lg font-semibold text-gray-800">Desember 2024</div>
                        </div>
                        <div class="grid grid-cols-7 gap-1 text-center text-sm">
                            <div class="font-medium text-gray-600 p-2">Min</div>
                            <div class="font-medium text-gray-600 p-2">Sen</div>
                            <div class="font-medium text-gray-600 p-2">Sel</div>
                            <div class="font-medium text-gray-600 p-2">Rab</div>
                            <div class="font-medium text-gray-600 p-2">Kam</div>
                            <div class="font-medium text-gray-600 p-2">Jum</div>
                            <div class="font-medium text-gray-600 p-2">Sab</div>
                            
                            <div class="p-2 text-gray-400">1</div>
                            <div class="p-2 text-gray-400">2</div>
                            <div class="p-2 text-gray-400">3</div>
                            <div class="p-2 text-gray-400">4</div>
                            <div class="p-2 text-gray-400">5</div>
                            <div class="p-2 text-gray-400">6</div>
                            <div class="p-2 text-gray-400">7</div>
                            
                            <div class="p-2">8</div>
                            <div class="p-2 bg-green-100 text-green-800 rounded">9</div>
                            <div class="p-2 bg-green-100 text-green-800 rounded">10</div>
                            <div class="p-2 bg-green-100 text-green-800 rounded">11</div>
                            <div class="p-2 bg-green-100 text-green-800 rounded">12</div>
                            <div class="p-2 bg-green-100 text-green-800 rounded">13</div>
                            <div class="p-2">14</div>
                            
                            <div class="p-2">15</div>
                            <div class="p-2 bg-blue-500 text-white rounded font-semibold">16</div>
                            <div class="p-2">17</div>
                            <div class="p-2">18</div>
                            <div class="p-2">19</div>
                            <div class="p-2">20</div>
                            <div class="p-2">21</div>
                        </div>
                    </div>

                    <!-- Riwayat Absensi -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Riwayat Absensi</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <div>
                                    <div class="text-sm font-medium">16 Des 2024</div>
                                    <div class="text-xs text-gray-500">07:15 - 15:30</div>
                                </div>
                                <span class="status-hadir text-white text-xs px-2 py-1 rounded">Hadir</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <div>
                                    <div class="text-sm font-medium">15 Des 2024</div>
                                    <div class="text-xs text-gray-500">07:20 - 15:30</div>
                                </div>
                                <span class="status-hadir text-white text-xs px-2 py-1 rounded">Hadir</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-100">
                                <div>
                                    <div class="text-sm font-medium">14 Des 2024</div>
                                    <div class="text-xs text-gray-500">Izin sakit</div>
                                </div>
                                <span class="status-sakit text-white text-xs px-2 py-1 rounded">Sakit</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Teacher Dashboard -->
    <div id="teacherDashboard" class="hidden min-h-screen bg-gray-50">
        <nav class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-3">
                            <i class="fas fa-chalkboard-teacher text-white text-sm"></i>
                        </div>
                        <span class="font-semibold text-gray-800">SMK RESPATI - Dashboard Guru</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-600">Selamat datang, <span id="teacherName">Ibu Sari Dewi</span></span>
                        <button onclick="logout()" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Main Content -->
                <div class="lg:col-span-3">
                    <!-- Class Selection -->
                    <div class="bg-white rounded-xl card-shadow p-6 mb-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Pilih Kelas</h2>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <button onclick="selectClass('X-RPL-1')" class="class-btn bg-blue-50 hover:bg-blue-100 border-2 border-blue-200 p-4 rounded-lg text-center transition duration-200">
                                <div class="font-semibold text-blue-800">X RPL 1</div>
                                <div class="text-sm text-blue-600">32 siswa</div>
                            </button>
                            <button onclick="selectClass('X-RPL-2')" class="class-btn bg-gray-50 hover:bg-gray-100 border-2 border-gray-200 p-4 rounded-lg text-center transition duration-200">
                                <div class="font-semibold text-gray-800">X RPL 2</div>
                                <div class="text-sm text-gray-600">30 siswa</div>
                            </button>
                            <button onclick="selectClass('XI-RPL-1')" class="class-btn bg-gray-50 hover:bg-gray-100 border-2 border-gray-200 p-4 rounded-lg text-center transition duration-200">
                                <div class="font-semibold text-gray-800">XI RPL 1</div>
                                <div class="text-sm text-gray-600">28 siswa</div>
                            </button>
                            <button onclick="selectClass('XI-RPL-2')" class="class-btn bg-gray-50 hover:bg-gray-100 border-2 border-gray-200 p-4 rounded-lg text-center transition duration-200">
                                <div class="font-semibold text-gray-800">XI RPL 2</div>
                                <div class="text-sm text-gray-600">31 siswa</div>
                            </button>
                        </div>
                    </div>

                    <!-- Student List -->
                    <div class="bg-white rounded-xl card-shadow p-6 mb-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-gray-800">Daftar Siswa - <span id="selectedClass">X RPL 1</span></h2>
                            <div class="flex space-x-2">
                                <button onclick="exportAttendance()" class="bg-purple-500 text-white px-3 py-2 rounded-lg hover:bg-purple-600 transition duration-200">
                                    <i class="fas fa-file-export mr-1"></i>Export
                                </button>
                                <button onclick="importAttendance()" class="bg-orange-500 text-white px-3 py-2 rounded-lg hover:bg-orange-600 transition duration-200">
                                    <i class="fas fa-file-import mr-1"></i>Import
                                </button>
                                <button onclick="printReport()" class="bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition duration-200">
                                    <i class="fas fa-print mr-1"></i>Cetak
                                </button>
                                <button onclick="saveAttendance()" class="bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition duration-200">
                                    <i class="fas fa-save mr-1"></i>Simpan
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-3 px-2">No</th>
                                        <th class="text-left py-3 px-2">Nama Siswa</th>
                                        <th class="text-left py-3 px-2">NIS</th>
                                        <th class="text-center py-3 px-2">Status Kehadiran</th>
                                        <th class="text-center py-3 px-2">Keterangan</th>
                                    </tr>
                                </thead>
                                <tbody id="studentList">
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-2">1</td>
                                        <td class="py-3 px-2 font-medium">Ahmad Rizki Pratama</td>
                                        <td class="py-3 px-2">2024001</td>
                                        <td class="py-3 px-2">
                                            <select class="attendance-select w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                                <option value="hadir" selected>‚úÖ Hadir</option>
                                                <option value="izin">üü° Izin</option>
                                                <option value="sakit">üî¥ Sakit</option>
                                                <option value="alpha">‚ö´ Alpha</option>
                                                <option value="tugas">üü£ Tugas Luar</option>
                                            </select>
                                        </td>
                                        <td class="py-3 px-2">
                                            <input type="text" class="w-full px-2 py-1 border border-gray-300 rounded text-sm" placeholder="Keterangan...">
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-2">2</td>
                                        <td class="py-3 px-2 font-medium">Siti Nurhaliza</td>
                                        <td class="py-3 px-2">2024002</td>
                                        <td class="py-3 px-2">
                                            <select class="attendance-select w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                                <option value="hadir" selected>‚úÖ Hadir</option>
                                                <option value="izin">üü° Izin</option>
                                                <option value="sakit">üî¥ Sakit</option>
                                                <option value="alpha">‚ö´ Alpha</option>
                                                <option value="tugas">üü£ Tugas Luar</option>
                                            </select>
                                        </td>
                                        <td class="py-3 px-2">
                                            <input type="text" class="w-full px-2 py-1 border border-gray-300 rounded text-sm" placeholder="Keterangan...">
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-2">3</td>
                                        <td class="py-3 px-2 font-medium">Budi Santoso</td>
                                        <td class="py-3 px-2">2024003</td>
                                        <td class="py-3 px-2">
                                            <select class="attendance-select w-full px-2 py-1 border border-gray-300 rounded text-sm">
                                                <option value="hadir">‚úÖ Hadir</option>
                                                <option value="izin">üü° Izin</option>
                                                <option value="sakit" selected>üî¥ Sakit</option>
                                                <option value="alpha">‚ö´ Alpha</option>
                                                <option value="tugas">üü£ Tugas Luar</option>
                                            </select>
                                        </td>
                                        <td class="py-3 px-2">
                                            <input type="text" class="w-full px-2 py-1 border border-gray-300 rounded text-sm" value="Demam tinggi" placeholder="Keterangan...">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Task Management -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-gray-800">Manajemen Tugas</h2>
                            <button onclick="createTask()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200">
                                <i class="fas fa-plus mr-2"></i>Buat Tugas Baru
                            </button>
                        </div>
                        
                        <div class="space-y-4">
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-start mb-3">
                                    <div>
                                        <h3 class="font-medium text-gray-800">Tugas Matematika - Integral</h3>
                                        <p class="text-sm text-gray-600">Deadline: 18 Desember 2024</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-blue-600 hover:text-blue-800 text-sm">
                                            <i class="fas fa-edit mr-1"></i>Edit
                                        </button>
                                        <button class="text-red-600 hover:text-red-800 text-sm">
                                            <i class="fas fa-trash mr-1"></i>Hapus
                                        </button>
                                    </div>
                                </div>
                                <div class="grid grid-cols-3 gap-4 text-center">
                                    <div class="bg-green-50 p-3 rounded">
                                        <div class="text-lg font-semibold text-green-600">25</div>
                                        <div class="text-xs text-gray-600">Sudah Mengumpulkan</div>
                                    </div>
                                    <div class="bg-yellow-50 p-3 rounded">
                                        <div class="text-lg font-semibold text-yellow-600">5</div>
                                        <div class="text-xs text-gray-600">Belum Mengumpulkan</div>
                                    </div>
                                    <div class="bg-blue-50 p-3 rounded">
                                        <div class="text-lg font-semibold text-blue-600">20</div>
                                        <div class="text-xs text-gray-600">Sudah Dinilai</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Quick Stats -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Statistik Hari Ini</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Total Siswa</span>
                                <span class="font-semibold">32</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Hadir</span>
                                <span class="font-semibold text-green-600">29</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Sakit</span>
                                <span class="font-semibold text-red-600">1</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Izin</span>
                                <span class="font-semibold text-yellow-600">2</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Alpha</span>
                                <span class="font-semibold text-gray-600">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Schedule -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Jadwal Mengajar</h3>
                        <div class="space-y-3">
                            <div class="border-l-4 border-blue-500 pl-3">
                                <div class="font-medium text-sm">Matematika</div>
                                <div class="text-xs text-gray-600">X RPL 1 ‚Ä¢ 07:30-09:00</div>
                            </div>
                            <div class="border-l-4 border-green-500 pl-3">
                                <div class="font-medium text-sm">Matematika</div>
                                <div class="text-xs text-gray-600">X RPL 2 ‚Ä¢ 09:15-10:45</div>
                            </div>
                            <div class="border-l-4 border-purple-500 pl-3">
                                <div class="font-medium text-sm">Matematika</div>
                                <div class="text-xs text-gray-600">XI RPL 1 ‚Ä¢ 13:00-14:30</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="hidden min-h-screen bg-gray-50">
        <nav class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center mr-3">
                            <i class="fas fa-user-shield text-white text-sm"></i>
                        </div>
                        <span class="font-semibold text-gray-800">SMK RESPATI - Dashboard Admin</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-600">Selamat datang, <span id="adminName">Admin System</span></span>
                        <button onclick="logout()" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl card-shadow p-6">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-users text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800">1,247</div>
                            <div class="text-sm text-gray-600">Total Siswa</div>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl card-shadow p-6">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-chalkboard-teacher text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800">87</div>
                            <div class="text-sm text-gray-600">Total Guru</div>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl card-shadow p-6">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-door-open text-yellow-600 text-xl"></i>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800">36</div>
                            <div class="text-sm text-gray-600">Total Kelas</div>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl card-shadow p-6">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-percentage text-purple-600 text-xl"></i>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800">94.2%</div>
                            <div class="text-sm text-gray-600">Kehadiran Hari Ini</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Main Content -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Attendance Statistics -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-6">Statistik Kehadiran Bulanan</h2>
                        <canvas id="attendanceChart" width="400" height="200"></canvas>
                    </div>

                    <!-- Account Management -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-gray-800">Manajemen Akun</h2>
                            <div class="flex space-x-2">
                                <button onclick="addAccount()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200">
                                    <i class="fas fa-plus mr-2"></i>Tambah Akun
                                </button>
                                <button onclick="exportData()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-200">
                                    <i class="fas fa-download mr-2"></i>Export
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-3 px-2">Nama</th>
                                        <th class="text-left py-3 px-2">Role</th>
                                        <th class="text-left py-3 px-2">Status</th>
                                        <th class="text-center py-3 px-2">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-2">Ahmad Rizki Pratama</td>
                                        <td class="py-3 px-2">
                                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">Siswa</span>
                                        </td>
                                        <td class="py-3 px-2">
                                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">Aktif</span>
                                        </td>
                                        <td class="py-3 px-2 text-center">
                                            <button class="text-blue-600 hover:text-blue-800 mr-2">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-2">Ibu Sari Dewi</td>
                                        <td class="py-3 px-2">
                                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">Guru</span>
                                        </td>
                                        <td class="py-3 px-2">
                                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">Aktif</span>
                                        </td>
                                        <td class="py-3 px-2 text-center">
                                            <button class="text-blue-600 hover:text-blue-800 mr-2">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="text-red-600 hover:text-red-800">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Quick Actions -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Aksi Cepat</h3>
                        <div class="space-y-3">
                            <button onclick="showFileManager()" class="w-full bg-green-500 text-white p-3 rounded-lg hover:bg-green-600 transition duration-200 text-left">
                                <i class="fas fa-folder-open mr-2"></i>File Manager
                            </button>
                            <button onclick="showImportExport()" class="w-full bg-purple-500 text-white p-3 rounded-lg hover:bg-purple-600 transition duration-200 text-left">
                                <i class="fas fa-exchange-alt mr-2"></i>Import/Export
                            </button>
                            <button onclick="showSystemSettings()" class="w-full bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600 transition duration-200 text-left">
                                <i class="fas fa-cog mr-2"></i>Pengaturan Sistem
                            </button>
                            <button onclick="backupData()" class="w-full bg-yellow-500 text-white p-3 rounded-lg hover:bg-yellow-600 transition duration-200 text-left">
                                <i class="fas fa-database mr-2"></i>Backup Data
                            </button>
                            <button onclick="masterReset()" class="w-full bg-red-500 text-white p-3 rounded-lg hover:bg-red-600 transition duration-200 text-left">
                                <i class="fas fa-redo mr-2"></i>Master Reset
                            </button>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Aktivitas Terbaru</h3>
                        <div class="space-y-3">
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                                <div>
                                    <div class="text-sm font-medium">Siswa baru terdaftar</div>
                                    <div class="text-xs text-gray-500">5 menit yang lalu</div>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                                <div>
                                    <div class="text-sm font-medium">Data absensi diupdate</div>
                                    <div class="text-xs text-gray-500">15 menit yang lalu</div>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-yellow-500 rounded-full mt-2"></div>
                                <div>
                                    <div class="text-sm font-medium">Backup otomatis selesai</div>
                                    <div class="text-xs text-gray-500">1 jam yang lalu</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Info -->
                    <div class="bg-white rounded-xl card-shadow p-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Info Sistem</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Versi</span>
                                <span class="text-sm font-medium">v2.1.0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Update Terakhir</span>
                                <span class="text-sm font-medium">16 Des 2024</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Status Server</span>
                                <span class="text-sm font-medium text-green-600">Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Bantuan & Panduan</h2>
                    <button onclick="closeHelp()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div class="border-l-4 border-blue-500 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">üéì Untuk Siswa</h3>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Login menggunakan NIS dan password yang diberikan sekolah</li>
                            <li>‚Ä¢ Klik "Absen Masuk" saat tiba di sekolah</li>
                            <li>‚Ä¢ Klik "Absen Pulang" saat akan meninggalkan sekolah</li>
                            <li>‚Ä¢ Cek riwayat kehadiran di sidebar kanan</li>
                            <li>‚Ä¢ Upload tugas melalui menu "Manajemen Tugas"</li>
                        </ul>
                    </div>
                    
                    <div class="border-l-4 border-green-500 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">üë®‚Äçüè´ Untuk Guru</h3>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Login menggunakan NIP dan password yang diberikan admin</li>
                            <li>‚Ä¢ Pilih kelas yang akan diabsen</li>
                            <li>‚Ä¢ Ubah status kehadiran siswa sesuai kondisi</li>
                            <li>‚Ä¢ Tambahkan keterangan jika diperlukan</li>
                            <li>‚Ä¢ Klik "Simpan" untuk menyimpan data absensi</li>
                            <li>‚Ä¢ Gunakan "Cetak Rekap" untuk mencetak laporan</li>
                        </ul>
                    </div>
                    
                    <div class="border-l-4 border-purple-500 pl-4">
                        <h3 class="font-semibold text-gray-800 mb-2">üë®‚Äçüíº Untuk Admin</h3>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Kelola semua akun siswa, guru, dan admin</li>
                            <li>‚Ä¢ Monitor statistik kehadiran real-time</li>
                            <li>‚Ä¢ Export data ke format PDF atau Excel</li>
                            <li>‚Ä¢ Lakukan backup data secara berkala</li>
                            <li>‚Ä¢ Gunakan "Master Reset" dengan hati-hati</li>
                        </ul>
                    </div>
                    
                    <div class="bg-yellow-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-yellow-800 mb-2">‚ö†Ô∏è Penting</h3>
                        <p class="text-sm text-yellow-700">Jika mengalami masalah teknis, hubungi admin sekolah atau IT support di nomor: 0218093086</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorialModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Video Tutorial</h2>
                    <button onclick="closeTutorial()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-100 rounded-lg p-6 text-center">
                        <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-play text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">Tutorial Siswa</h3>
                        <p class="text-sm text-gray-600 mb-4">Cara menggunakan sistem absensi untuk siswa</p>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-200">
                            Tonton Video
                        </button>
                    </div>
                    
                    <div class="bg-gray-100 rounded-lg p-6 text-center">
                        <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-play text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">Tutorial Guru</h3>
                        <p class="text-sm text-gray-600 mb-4">Cara mengelola absensi siswa dan tugas</p>
                        <button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-200">
                            Tonton Video
                        </button>
                    </div>
                    
                    <div class="bg-gray-100 rounded-lg p-6 text-center">
                        <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-play text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">Tutorial Admin</h3>
                        <p class="text-sm text-gray-600 mb-4">Cara mengelola sistem dan akun pengguna</p>
                        <button class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition duration-200">
                            Tonton Video
                        </button>
                    </div>
                    
                    <div class="bg-gray-100 rounded-lg p-6 text-center">
                        <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-question-circle text-white text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-800 mb-2">FAQ</h3>
                        <p class="text-sm text-gray-600 mb-4">Pertanyaan yang sering diajukan</p>
                        <button class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition duration-200">
                            Lihat FAQ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- File Manager Modal -->
    <div id="fileManagerModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">File Manager</h2>
                    <button onclick="closeFileManager()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <div class="lg:col-span-1">
                        <h3 class="font-semibold text-gray-800 mb-3">Folder</h3>
                        <div class="space-y-2">
                            <div class="p-2 bg-blue-50 rounded cursor-pointer hover:bg-blue-100">
                                <i class="fas fa-folder text-blue-600 mr-2"></i>Tugas Siswa
                            </div>
                            <div class="p-2 hover:bg-gray-100 rounded cursor-pointer">
                                <i class="fas fa-folder text-gray-600 mr-2"></i>Materi Pelajaran
                            </div>
                            <div class="p-2 hover:bg-gray-100 rounded cursor-pointer">
                                <i class="fas fa-folder text-gray-600 mr-2"></i>Laporan Absensi
                            </div>
                            <div class="p-2 hover:bg-gray-100 rounded cursor-pointer">
                                <i class="fas fa-folder text-gray-600 mr-2"></i>Backup Data
                            </div>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-3">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Files</h3>
                            <div class="flex space-x-2">
                                <input type="file" id="fileManagerUpload" class="hidden" multiple onchange="handleFileManagerUpload(event)">
                                <button onclick="document.getElementById('fileManagerUpload').click()" class="bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600">
                                    <i class="fas fa-upload mr-1"></i>Upload
                                </button>
                                <button onclick="createFolder()" class="bg-green-500 text-white px-3 py-2 rounded hover:bg-green-600">
                                    <i class="fas fa-folder-plus mr-1"></i>New Folder
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="border rounded-lg p-4 hover:bg-gray-50 cursor-pointer">
                                <div class="text-center">
                                    <i class="fas fa-file-pdf text-red-500 text-3xl mb-2"></i>
                                    <div class="text-sm font-medium">soal-matematika.pdf</div>
                                    <div class="text-xs text-gray-500">2.3 MB</div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-4 hover:bg-gray-50 cursor-pointer">
                                <div class="text-center">
                                    <i class="fas fa-file-word text-blue-500 text-3xl mb-2"></i>
                                    <div class="text-sm font-medium">essay-indonesia.docx</div>
                                    <div class="text-xs text-gray-500">1.8 MB</div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-4 hover:bg-gray-50 cursor-pointer">
                                <div class="text-center">
                                    <i class="fas fa-file-excel text-green-500 text-3xl mb-2"></i>
                                    <div class="text-sm font-medium">data-absensi.xlsx</div>
                                    <div class="text-xs text-gray-500">856 KB</div>
                                </div>
                            </div>
                            <div class="border rounded-lg p-4 hover:bg-gray-50 cursor-pointer">
                                <div class="text-center">
                                    <i class="fas fa-file-image text-purple-500 text-3xl mb-2"></i>
                                    <div class="text-sm font-medium">diagram-kelas.png</div>
                                    <div class="text-xs text-gray-500">445 KB</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Import/Export Modal -->
    <div id="importExportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Import/Export Data</h2>
                    <button onclick="closeImportExport()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6">
                        <h3 class="font-semibold text-gray-800 mb-4 text-center">
                            <i class="fas fa-file-import text-blue-500 mr-2"></i>Import Data
                        </h3>
                        <div class="space-y-3">
                            <button onclick="importData('students')" class="w-full bg-blue-500 text-white p-3 rounded hover:bg-blue-600">
                                <i class="fas fa-users mr-2"></i>Import Data Siswa
                            </button>
                            <button onclick="importData('teachers')" class="w-full bg-green-500 text-white p-3 rounded hover:bg-green-600">
                                <i class="fas fa-chalkboard-teacher mr-2"></i>Import Data Guru
                            </button>
                            <button onclick="importData('attendance')" class="w-full bg-purple-500 text-white p-3 rounded hover:bg-purple-600">
                                <i class="fas fa-calendar-check mr-2"></i>Import Data Absensi
                            </button>
                            <button onclick="importData('classes')" class="w-full bg-yellow-500 text-white p-3 rounded hover:bg-yellow-600">
                                <i class="fas fa-door-open mr-2"></i>Import Data Kelas
                            </button>
                        </div>
                    </div>
                    
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6">
                        <h3 class="font-semibold text-gray-800 mb-4 text-center">
                            <i class="fas fa-file-export text-green-500 mr-2"></i>Export Data
                        </h3>
                        <div class="space-y-3">
                            <button onclick="exportData('students')" class="w-full bg-blue-500 text-white p-3 rounded hover:bg-blue-600">
                                <i class="fas fa-users mr-2"></i>Export Data Siswa
                            </button>
                            <button onclick="exportData('teachers')" class="w-full bg-green-500 text-white p-3 rounded hover:bg-green-600">
                                <i class="fas fa-chalkboard-teacher mr-2"></i>Export Data Guru
                            </button>
                            <button onclick="exportData('attendance')" class="w-full bg-purple-500 text-white p-3 rounded hover:bg-purple-600">
                                <i class="fas fa-calendar-check mr-2"></i>Export Data Absensi
                            </button>
                            <button onclick="exportData('reports')" class="w-full bg-red-500 text-white p-3 rounded hover:bg-red-600">
                                <i class="fas fa-chart-bar mr-2"></i>Export Laporan
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 p-4 bg-yellow-50 rounded-lg">
                    <h4 class="font-semibold text-yellow-800 mb-2">Format yang Didukung:</h4>
                    <div class="text-sm text-yellow-700">
                        <p>‚Ä¢ Import: Excel (.xlsx), CSV (.csv), JSON (.json)</p>
                        <p>‚Ä¢ Export: Excel (.xlsx), PDF (.pdf), CSV (.csv)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- System Settings Modal -->
    <div id="systemSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Pengaturan Sistem</h2>
                    <button onclick="closeSystemSettings()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <div class="lg:col-span-1">
                        <div class="space-y-2">
                            <button onclick="showSettingsTab('general')" class="w-full text-left p-3 bg-blue-50 text-blue-700 rounded-lg font-medium">
                                <i class="fas fa-cog mr-2"></i>Umum
                            </button>
                            <button onclick="showSettingsTab('attendance')" class="w-full text-left p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-calendar-check mr-2"></i>Absensi
                            </button>
                            <button onclick="showSettingsTab('users')" class="w-full text-left p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-users mr-2"></i>Pengguna
                            </button>
                            <button onclick="showSettingsTab('security')" class="w-full text-left p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-shield-alt mr-2"></i>Keamanan
                            </button>
                            <button onclick="showSettingsTab('notifications')" class="w-full text-left p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-bell mr-2"></i>Notifikasi
                            </button>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-3">
                        <div id="generalSettings" class="settings-tab">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pengaturan Umum</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Sekolah</label>
                                    <input type="text" value="SMK RESPATI" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">NPSN</label>
                                    <input type="text" value="20103536" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Alamat</label>
                                    <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" rows="3">Jl.Inpres, Kel Tengah, Kramat Jati Jakarta Timur</textarea>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Telepon</label>
                                        <input type="text" value="0218093086" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Website</label>
                                        <input type="text" value="smkrespati1.sch.id" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="attendanceSettings" class="settings-tab hidden">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pengaturan Absensi</h3>
                            <div class="space-y-4">
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Jam Masuk</label>
                                        <input type="time" value="07:00" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Jam Pulang</label>
                                        <input type="time" value="15:30" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Toleransi Keterlambatan (menit)</label>
                                        <input type="number" value="15" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Auto Absen Pulang</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                            <option value="enabled">Aktif</option>
                                            <option value="disabled">Nonaktif</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="weekendAttendance" class="mr-2">
                                    <label for="weekendAttendance" class="text-sm text-gray-700">Aktifkan absensi akhir pekan</label>
                                </div>
                            </div>
                        </div>
                        
                        <div id="userSettings" class="settings-tab hidden">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pengaturan Pengguna</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 border rounded-lg">
                                    <div>
                                        <div class="font-medium">Registrasi Otomatis Siswa</div>
                                        <div class="text-sm text-gray-600">Izinkan siswa mendaftar sendiri</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between p-4 border rounded-lg">
                                    <div>
                                        <div class="font-medium">Reset Password Otomatis</div>
                                        <div class="text-sm text-gray-600">Reset password setiap semester</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Format Password Default</label>
                                    <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                        <option value="nis">NIS/NIP</option>
                                        <option value="birthdate">Tanggal Lahir</option>
                                        <option value="custom">Custom</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div id="securitySettings" class="settings-tab hidden">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pengaturan Keamanan</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 border rounded-lg">
                                    <div>
                                        <div class="font-medium">Two-Factor Authentication</div>
                                        <div class="text-sm text-gray-600">Aktifkan 2FA untuk admin</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Session Timeout (menit)</label>
                                    <input type="number" value="30" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Maximum Login Attempts</label>
                                    <input type="number" value="5" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                        </div>
                        
                        <div id="notificationSettings" class="settings-tab hidden">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Pengaturan Notifikasi</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 border rounded-lg">
                                    <div>
                                        <div class="font-medium">Email Notifications</div>
                                        <div class="text-sm text-gray-600">Kirim notifikasi via email</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between p-4 border rounded-lg">
                                    <div>
                                        <div class="font-medium">SMS Notifications</div>
                                        <div class="text-sm text-gray-600">Kirim notifikasi via SMS</div>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">SMTP Server</label>
                                    <input type="text" placeholder="smtp.gmail.com" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-6 flex justify-end space-x-3">
                            <button onclick="resetSettings()" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                Reset
                            </button>
                            <button onclick="saveSettings()" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                                Simpan Pengaturan
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentRole = null;
        let attendanceChart = null;

        // Login functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const role = document.getElementById('userRole').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('Mohon isi username dan password!');
                return;
            }
            
            // Simulate login validation
            currentRole = role;
            currentUser = username;
            
            // Hide login page and show appropriate dashboard
            document.getElementById('loginPage').classList.add('hidden');
            
            if (role === 'siswa') {
                document.getElementById('studentDashboard').classList.remove('hidden');
                document.getElementById('studentName').textContent = username;
            } else if (role === 'guru') {
                document.getElementById('teacherDashboard').classList.remove('hidden');
                document.getElementById('teacherName').textContent = username;
            } else if (role === 'admin') {
                document.getElementById('adminDashboard').classList.remove('hidden');
                document.getElementById('adminName').textContent = username;
                initializeAdminChart();
            }
        });

        // Logout functionality
        function logout() {
            currentUser = null;
            currentRole = null;
            
            // Hide all dashboards
            document.getElementById('studentDashboard').classList.add('hidden');
            document.getElementById('teacherDashboard').classList.add('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
            
            // Show login page
            document.getElementById('loginPage').classList.remove('hidden');
            
            // Reset form
            document.getElementById('loginForm').reset();
        }

        // Student functions
        function absenMasuk() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
            
            document.getElementById('jamMasuk').textContent = timeString;
            document.getElementById('absenMasuk').disabled = true;
            document.getElementById('absenMasuk').classList.add('opacity-50');
            document.getElementById('absenPulang').disabled = false;
            document.getElementById('absenPulang').classList.remove('opacity-50');
            
            alert('Absen masuk berhasil pada ' + timeString);
        }

        function absenPulang() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
            
            document.getElementById('jamPulang').textContent = timeString;
            document.getElementById('absenPulang').disabled = true;
            document.getElementById('absenPulang').classList.add('opacity-50');
            
            alert('Absen pulang berhasil pada ' + timeString);
        }

        // File handling functions
        function handleFileUpload(event) {
            const files = event.target.files;
            const uploadedFilesDiv = document.getElementById('uploadedFiles');
            
            if (files.length > 0) {
                const file = files[0];
                const fileSize = (file.size / 1024 / 1024).toFixed(2);
                uploadedFilesDiv.innerHTML = `
                    <i class="fas fa-paperclip mr-1"></i>File uploaded: ${file.name} (${fileSize} MB)
                    <button onclick="removeFile()" class="ml-2 text-red-500 hover:text-red-700">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                alert(`File ${file.name} berhasil diupload!`);
            }
        }

        function downloadFile(filename) {
            // Simulate file download
            const link = document.createElement('a');
            link.href = '#';
            link.download = filename;
            link.click();
            alert(`Mengunduh file: ${filename}`);
        }

        function previewFile(filename) {
            alert(`Membuka preview untuk file: ${filename}`);
        }

        function removeFile() {
            document.getElementById('uploadedFiles').innerHTML = '<i class="fas fa-paperclip mr-1"></i>Tidak ada file';
        }

        // Teacher functions
        function selectClass(className) {
            // Update selected class
            document.getElementById('selectedClass').textContent = className;
            
            // Update class button styles
            document.querySelectorAll('.class-btn').forEach(btn => {
                btn.classList.remove('bg-blue-50', 'border-blue-200');
                btn.classList.add('bg-gray-50', 'border-gray-200');
                btn.querySelector('div').classList.remove('text-blue-800');
                btn.querySelector('div').classList.add('text-gray-800');
                btn.querySelector('div:last-child').classList.remove('text-blue-600');
                btn.querySelector('div:last-child').classList.add('text-gray-600');
            });
            
            // Highlight selected class
            event.target.classList.remove('bg-gray-50', 'border-gray-200');
            event.target.classList.add('bg-blue-50', 'border-blue-200');
            event.target.querySelector('div').classList.remove('text-gray-800');
            event.target.querySelector('div').classList.add('text-blue-800');
            event.target.querySelector('div:last-child').classList.remove('text-gray-600');
            event.target.querySelector('div:last-child').classList.add('text-blue-600');
        }

        function saveAttendance() {
            alert('Data absensi berhasil disimpan!');
        }

        function printReport() {
            window.print();
        }

        function exportAttendance() {
            const format = prompt('Pilih format export:\n1. Excel (.xlsx)\n2. PDF (.pdf)\n3. CSV (.csv)\n\nKetik 1, 2, atau 3:');
            const formats = { '1': 'Excel', '2': 'PDF', '3': 'CSV' };
            if (formats[format]) {
                alert(`Mengexport data absensi ke format ${formats[format]}...`);
            }
        }

        function importAttendance() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.xlsx,.csv,.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    alert(`Mengimport data absensi dari file: ${file.name}`);
                }
            };
            input.click();
        }

        function createTask() {
            alert('Form pembuatan tugas baru akan dibuka...');
        }

        // Admin functions
        function initializeAdminChart() {
            const ctx = document.getElementById('attendanceChart').getContext('2d');
            
            if (attendanceChart) {
                attendanceChart.destroy();
            }
            
            attendanceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'],
                    datasets: [{
                        label: 'Kehadiran (%)',
                        data: [92, 89, 94, 91, 96, 93, 95, 92, 94, 97, 93, 94],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 80,
                            max: 100
                        }
                    }
                }
            });
        }

        function masterReset() {
            if (confirm('PERINGATAN: Master Reset akan menghapus SEMUA data sistem. Apakah Anda yakin?')) {
                if (confirm('Konfirmasi sekali lagi: Semua data akan hilang permanen. Lanjutkan?')) {
                    alert('Master Reset berhasil dilakukan. Sistem akan restart...');
                    setTimeout(() => {
                        logout();
                    }, 2000);
                }
            }
        }

        function backupData() {
            alert('Proses backup data dimulai. Anda akan mendapat notifikasi setelah selesai.');
        }

        function systemSettings() {
            alert('Halaman pengaturan sistem akan dibuka...');
        }

        function addAccount() {
            alert('Form tambah akun baru akan dibuka...');
        }

        function exportData(type) {
            const format = prompt('Pilih format export:\n1. Excel (.xlsx)\n2. PDF (.pdf)\n3. CSV (.csv)\n\nKetik 1, 2, atau 3:');
            const formats = { '1': 'Excel', '2': 'PDF', '3': 'CSV' };
            const types = { 'students': 'Siswa', 'teachers': 'Guru', 'attendance': 'Absensi', 'reports': 'Laporan' };
            
            if (formats[format] && types[type]) {
                alert(`Mengexport data ${types[type]} ke format ${formats[format]}...`);
            }
        }

        function importData(type) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.xlsx,.csv,.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                const types = { 'students': 'Siswa', 'teachers': 'Guru', 'attendance': 'Absensi', 'classes': 'Kelas' };
                if (file && types[type]) {
                    alert(`Mengimport data ${types[type]} dari file: ${file.name}`);
                }
            };
            input.click();
        }

        // File Manager functions
        function showFileManager() {
            document.getElementById('fileManagerModal').classList.remove('hidden');
        }

        function closeFileManager() {
            document.getElementById('fileManagerModal').classList.add('hidden');
        }

        function handleFileManagerUpload(event) {
            const files = event.target.files;
            if (files.length > 0) {
                alert(`${files.length} file(s) berhasil diupload ke File Manager!`);
            }
        }

        function createFolder() {
            const folderName = prompt('Masukkan nama folder baru:');
            if (folderName) {
                alert(`Folder "${folderName}" berhasil dibuat!`);
            }
        }

        // Import/Export Modal functions
        function showImportExport() {
            document.getElementById('importExportModal').classList.remove('hidden');
        }

        function closeImportExport() {
            document.getElementById('importExportModal').classList.add('hidden');
        }

        // System Settings functions
        function showSystemSettings() {
            document.getElementById('systemSettingsModal').classList.remove('hidden');
        }

        function closeSystemSettings() {
            document.getElementById('systemSettingsModal').classList.add('hidden');
        }

        function showSettingsTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Show selected tab
            document.getElementById(tabName + 'Settings').classList.remove('hidden');
            
            // Update button styles
            document.querySelectorAll('#systemSettingsModal button').forEach(btn => {
                btn.classList.remove('bg-blue-50', 'text-blue-700', 'font-medium');
                btn.classList.add('hover:bg-gray-100');
            });
            
            // Highlight active button
            event.target.classList.remove('hover:bg-gray-100');
            event.target.classList.add('bg-blue-50', 'text-blue-700', 'font-medium');
        }

        function saveSettings() {
            alert('Pengaturan sistem berhasil disimpan!');
        }

        function resetSettings() {
            if (confirm('Reset semua pengaturan ke default?')) {
                alert('Pengaturan berhasil direset ke default!');
            }
        }

        // Modal functions
        function showHelp() {
            document.getElementById('helpModal').classList.remove('hidden');
        }

        function closeHelp() {
            document.getElementById('helpModal').classList.add('hidden');
        }

        function showTutorial() {
            document.getElementById('tutorialModal').classList.remove('hidden');
        }

        function closeTutorial() {
            document.getElementById('tutorialModal').classList.add('hidden');
        }

        // Close modals when clicking outside
        document.getElementById('helpModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeHelp();
            }
        });

        document.getElementById('tutorialModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeTutorial();
            }
        });

        document.getElementById('fileManagerModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeFileManager();
            }
        });

        document.getElementById('importExportModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImportExport();
            }
        });

        document.getElementById('systemSettingsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSystemSettings();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set default values for demo
            document.getElementById('username').value = 'demo';
            document.getElementById('password').value = 'demo';
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9676504670405f5c',t:'MTc1Mzg5Mzc5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
